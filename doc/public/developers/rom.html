<!DOCTYPE html>
<html lang="en">
<head>
    <title>ROMMing</title>
    <!-- Copyright Embedthis Software, LLC, 2003-2014. All Rights Reserved. -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="keywords" content="appweb, embedded web server, embedded, devices, http server, internet of things, esp, goahead" />
    <meta name="description" content="The fastest little web server" />
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700'
        rel='stylesheet' type='text/css'>
<!--
    <link href='http://fonts.googleapis.com/css?family=Audiowide' rel='stylesheet' type='text/css'>
-->
    <link href='http://fonts.googleapis.com/css?family=Julius+Sans+One' rel='stylesheet' type='text/css'>
    <link href="../lib/semantic/css/semantic.css" rel="stylesheet" type="text/css" />
    <link href="../css/all.css" rel="stylesheet" type="text/css" />
    <link href="../images/favicon.ico" rel="shortcut icon" />

</head>
<body>
        
    <div class="ui large left vertical inverted labeled overlay sidebar menu">
        <div class="item">
            <a href="/index.html" class="logo">Appweb Docs</a>
        </div>
        <div class="item">
            <div class="menu">
                <a class="header item" href="../index.html">Home</a>
                <a class="item" href="../users/features.html">Appweb Features</a>
                <a class="item" href="https://embedthis.com/appweb/download.html">Download</a> 
                <a class="item" href="../licensing/index.html">Licensing</a>
            </div>
        </div>
        <div class="item">
            <div class="menu">
                <a class="header item" href="../start/index.html">Getting Started</a>
                <a class="item" href="../start/quick.html">Quick Start</a>
                <a class="item" href="../start/installing.html">Installing Appweb</a>
                <a class="item" href="../start/starting.html">Starting and Stopping</a>
                <a class="item" href="../start/service.html">Running as a Service</a>
                <a class="item" href="../start/releaseNotes.html">Release Notes</a>
                <a class="item" href="../start/source.html">Building from Source</a>
            </div>
        </div>
        <div class="item">
            <div class="menu">
                <a class="header item" href="../users/index.html">User's Guide</a>
                <a class="item" href="../users/configuration.html">Configuring Appweb</a>
                <a class="item" href="../users/directives.html">Configuration Directives</a>
                <a class="item" href="../users/frameworks.html">Web Frameworks</a>
                <a class="item" href="../users/modules.html">Using Loadable Modules</a>
                <a class="item" href="../users/ports.html">Ports and Binding</a>
                <a class="item" href="../users/routing.html">Routing Requests</a>
                <a class="item" href="../users/stages.html">Request Pipeline</a>
                <a class="item" href="../users/lang.html">Multi-Language Content</a>
                <a class="item" href="../users/authentication.html">User Authorization</a>
                <a class="item" href="../users/logFiles.html">Logging</a>
                <a class="item" href="../users/caching.html">Caching</a>
                <a class="item" href="../users/vhosts.html">Virtual Hosts</a>
                <a class="item" href="../users/ssl.html">Secure Sockets (SSL)</a>
                <a class="item" href="../users/client.html">Http Client</a>
                <a class="item" href="../users/security.html">Security Considerations</a>
                <a class="item" href="../users/monitor.html">Monitoring and Defending</a>
                <a class="item" href="../users/uploading.html">File Upload</a>
                <a class="item" href="../users/webSockets.html">WebSockets</a>
                <a class="item" href="../users/man.html">Man Pages</a>
            </div>
        </div>
        <div class="item">
            <div class="menu">
                <a class="header item" href="../developers/index.html">Developer's Guide</a>
                <a class="item" href="../developers/embedding.html">Embedding Appweb</a>
                <a class="item" href="../developers/modules.html">Creating Appweb Modules</a>
                <a class="item" href="../developers/handlers.html">Creating Appweb Handlers</a>
                <a class="item" href="../developers/stages.html">Creating Pipeline Stages</a>
                <a class="item" href="../developers/migrating.html">Migrating to Appweb 5</a>
                <a class="item" href="../developers/rom.html">Serving Pages from ROM</a>
            </div>
        </div>
        <div class="item">
            <div class="menu">
                <a class="header item" href="../ref/index.html">Reference Guide</a>
                <a class="item" href="../ref/compatibility.html">Compatibility</a>
                <a class="item" href="../ref/native.html">Native APIs</a>
                <a class="item" href="../ref/architecture.html">Appweb Architecture</a>
                <a class="item" href="../ref/memory.html">Appweb Memory Allocation</a>
                <a class="item" href="../ref/multithread.html">Multithreaded Programming</a>
                <a class="item" href="../standards/http.html">HTTP References</a>
            </div>
        </div>
        <div class="item">
            <div class="menu">
                <a class="header item" href="../developers/project.html">Project Resources</a>
                <a class="item" href="http://goo.gl/dGRDl4">Official Appweb News</a>
                <a class="item" href="https://embedthis.com/appweb/">Appweb Web Site</a>
                <a class="item" href="https://github.com/embedthis/appweb">Source Code Repository</a>
                <a class="item" href="https://github.com/embedthis/appweb/issues">Project Issue Database</a>
                <a class="item" href="https://github.com/embedthis/appweb/releases">Change Log</a>
                <a class="item" href="https://github.com/embedthis/appweb/milestones">Roadmap</a>
                <a class="item" href="https://embedthis.com/developers/contributors.html">Contributors Agreement</a>
            </div>
        </div>
        <div class="item">
            <div class="menu">
                <span class="header item">Links</span>
                <a class="item" href="https://embedthis.com/">Embedthis Web Site</a>
                <a class="item" href="https://embedthis.com/blog/">Embedthis Blog</a>
                <a class="item" href="http://twitter.com/mobstream">Twitter</a>
            </div>
        </div>
    </div>

    <div class="masthead">
         
        <div class="column">
            <div class="ui inverted menu">
                <div class="ui black small launch right attached toggle button">
                    <i class="icon list layout"></i>
                </div>
                <div class="right menu">
                      
                    <a class="item" href="https://embedthis.com/">Embedthis</a>
                    <a class="item" href="https://embedthis.com/appweb/">Appweb Site</a>
                    <a class="item" href="http://goo.gl/dGRDl4">Appweb News</a>
                    <a class="item" href="https://github.com/embedthis/appweb">Repository</a>
                    <a class="item" href="https://embedthis.com/blog/">Blog</a>
                    <a class="item" href="https://twitter.com/mobstream">Twitter</a>

                </div>
            </div>
            
            <div class="ui breadcrumb">
                <a class="section" href="../">Home</a>
                
                <div class="divider">/</div>
                <a class="section" href="index.html">
                    Developer's Guide
                </a>
                
                <div class="divider">/</div>
                <a class="active section" href="rom.html">ROMMing</a>
            </div>
            
            <div class="ui right floated basic segment version">
                v5.2.0
            </div>
        </div>

    </div>
    <div class="content">

            <h1>Serving Pages from ROM</h1>
            <p>To enable Appweb to be used on an embedded system without a file system, Appweb supports the compilation of
            web pages and configuration files into C code that can be stored in Read Only Memory (ROM) and fetched by
            Appweb to respond to relevant requests.</p>
            <p>Appweb has a virtual file system interface that allows the run-time switching between serving web pages
            on a disk-based file system and a compiled ROM based store of web pages.</p>
            <p>This ROM facility may also be used to enhance security by preventing the modification of web documents,
            or in performance critical situations where the serving of web pages from memory may be an effective
            optimization.</p><a id="compilingWebPages"></a>
            <h2>Compiling Web Pages</h2>
            <p>The Appweb <b>makerom</b> program is used to compile web documents, configuration files, and any other
            files that you would like to be compiled into C code. The makerom program will parse the files and convert
            them into C data structures which can then be compiled by your C/C++ compiler and linked into your
            application.</p>
            <p>For example:</p>
            <pre class="ui code segment">
makerom `find web -print` &gt;romFiles.c
</pre>
            <p>This will create a list of all the web files and then convert these files into C structures in the file
            romFiles.c.</p>
            <p>The <b>makerom</b> program takes two options:</p>
            <table title="Switches" class="ui table segment">
                <thead>
                    <tr>
                        <th class="two wide">Switch</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>--prefix</td>
                        <td>Specifies a leading string prefix to remove from each of the compiled file names. Filenames
                            should be relative paths and not start with "./".
                        </td>
                    </tr>
                    <tr>
                        <td class="nowrap">-- name</td>
                        <td>Specifies the name of top level C structure. Appweb allows multiple ROM directories to be
                        included in a single application. This is necessary if using virtual hosts to allow each host
                        to have its own web directory.</td>
                    </tr>
                </tbody>
            </table>
            <p>It is important to include some essential Appweb configuration files into the ROM. These include the
            Appweb configuration file, the mime.types file, and any authorization database files. The following script
            is used to compile the web pages in three web directories ("sslWeb", "vhostWeb", and "web") and to also
            compile the essential configuration files.</p>
<a id="php"></a>
            <h2>Using ROM with PHP</h2>
            <p>The ROM facility is supported by the following Appweb modules and handlers: fileHandler,
            espHandler and the sslModule.</p>
            <p>Ejscript and PHP do not support the Appweb ROM facility.</p>

    </div>
    <div class="terms ui basic center aligned segment">
        <p>&copy; Embedthis Software, 2003-2014. All rights reserved.
            Generated on Sep  2, 2014.
        </p>
    </div>

     
    <script src="../lib/jquery/jquery.js"></script>
    <script src="../lib/semantic/javascript/semantic.js"></script>
    <script>
        $('.sidebar').sidebar({overlay: false}).sidebar('toggle');
        $('.sidebar').first().sidebar('attach events', '.toggle.button');
        $(function() {
            var url = '../developers/rom.html';
            var active = $('.sidebar a[href="' + url +'"]');
            active.addClass('active');
            var sidebar = $(".sidebar");
            var height = sidebar.height();
            var offset = active.offset();
            if (offset && offset.top >= height) {
                var diff = height - active.offset().top;
                sidebar.scrollTop(height);
            }
        });
    </script>

</body>
</html>
